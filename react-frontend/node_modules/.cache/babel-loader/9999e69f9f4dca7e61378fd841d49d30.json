{"ast":null,"code":"import { GET_ALL } from \"./types\";\nimport EmployeeService from \"../services/EmployeeService\"; // export function fetchPosts() {\n//     console.log(\"HELO\")\n//\n//     async function f(){\n//     const response= await fetch('http://localhost:8081/api/v1/employees')\n//     const json = await response.json()\n//         return json\n//     }\n//     console.log(f)\n//     // return async dispatch=>{\n//     //         const response= await fetch('http://localhost:8081/api/v1/employees')\n//     //         const json = await response.json()\n//     //         dispatch({type:GET_ALL,payload: json})\n//     //\n//     //\n//     // }\n// }\n\nexport const fetchPosts = () => async dispatch => {\n  try {\n    const res = await EmployeeService.getEmployees();\n    dispatch({\n      type: GET_ALL,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deleteEmployee = id => dispatch => {\n  EmployeeService.deleteEmployee(id).then(res => {// this.setState({employees:this.state.employees.filter(employee=>employee.id!==id)})\n  });\n};","map":{"version":3,"sources":["C:/Users/valzhanov/Desktop/test/react-frontend/src/redux/actions.js"],"names":["GET_ALL","EmployeeService","fetchPosts","dispatch","res","getEmployees","type","payload","data","err","console","log","deleteEmployee","id","then"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,SAAtB;AACA,OAAOC,eAAP,MAA4B,6BAA5B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAMC,UAAU,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAChD,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMH,eAAe,CAACI,YAAhB,EAAlB;AAEAF,IAAAA,QAAQ,CAAC;AACLG,MAAAA,IAAI,EAAEN,OADD;AAELO,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFR,KAAD,CAAR;AAIH,GAPD,CAOE,OAAOC,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,CAXM;AAaP,OAAO,MAAMG,cAAc,GAAIC,EAAD,IAAQV,QAAQ,IAAI;AAE9CF,EAAAA,eAAe,CAACW,cAAhB,CAA+BC,EAA/B,EAAmCC,IAAnC,CAAwCV,GAAG,IAAI,CAE3C;AACH,GAHD;AAIH,CANM","sourcesContent":["import {GET_ALL} from \"./types\";\r\nimport EmployeeService from \"../services/EmployeeService\";\r\n\r\n// export function fetchPosts() {\r\n//     console.log(\"HELO\")\r\n//\r\n//     async function f(){\r\n//     const response= await fetch('http://localhost:8081/api/v1/employees')\r\n//     const json = await response.json()\r\n//         return json\r\n//     }\r\n//     console.log(f)\r\n//     // return async dispatch=>{\r\n//     //         const response= await fetch('http://localhost:8081/api/v1/employees')\r\n//     //         const json = await response.json()\r\n//     //         dispatch({type:GET_ALL,payload: json})\r\n//     //\r\n//     //\r\n//     // }\r\n// }\r\n\r\n\r\nexport const fetchPosts = () => async (dispatch) => {\r\n    try {\r\n        const res = await EmployeeService.getEmployees();\r\n\r\n        dispatch({\r\n            type: GET_ALL,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const deleteEmployee = (id) => dispatch => {\r\n    \r\n    EmployeeService.deleteEmployee(id).then(res => {\r\n\r\n        // this.setState({employees:this.state.employees.filter(employee=>employee.id!==id)})\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}