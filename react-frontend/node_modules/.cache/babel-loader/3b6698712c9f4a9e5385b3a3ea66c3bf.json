{"ast":null,"code":"import { DELETE, GET_ALL, POST, UPDATE } from \"./types\";\nimport EmployeeService from \"../services/EmployeeService\"; // export function fetchPosts() {\n//     console.log(\"HELO\")\n//\n//     async function f(){\n//     const response= await fetch('http://localhost:8081/api/v1/employees')\n//     const json = await response.json()\n//         return json\n//     }\n//     console.log(f)\n//     // return async dispatch=>{\n//     //         const response= await fetch('http://localhost:8081/api/v1/employees')\n//     //         const json = await response.json()\n//     //         dispatch({type:GET_ALL,payload: json})\n//     //\n//     //\n//     // }\n// }\n\nexport const createEmployee = employee => async dispatch => {\n  try {\n    const res = await EmployeeService.createEmployee(employee);\n    dispatch({\n      type: POST,\n      payload: employee\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const fetchPosts = () => async dispatch => {\n  try {\n    const res = await EmployeeService.getEmployees();\n    dispatch({\n      type: GET_ALL,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const deleteEmployee = id => async dispatch => {\n  try {\n    await EmployeeService.deleteEmployee(id);\n    dispatch({\n      type: DELETE,\n      payload: id\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const updateEmployee = (id, data) => async dispatch => {\n  try {\n    // const res = await EmployeeService.updateEmployeeById(id, data);\n    const res = EmployeeService.updateEmployeeById(id, data);\n    dispatch({\n      type: UPDATE,\n      payload: id,\n      data\n    });\n    return Promise.resolve(res.data);\n  } catch (err) {\n    return Promise.reject(err);\n  }\n};","map":{"version":3,"sources":["C:/Users/valzhanov/Desktop/test/react-frontend/src/redux/actions.js"],"names":["DELETE","GET_ALL","POST","UPDATE","EmployeeService","createEmployee","employee","dispatch","res","type","payload","err","console","log","fetchPosts","getEmployees","data","deleteEmployee","id","updateEmployee","updateEmployeeById","Promise","resolve","reject"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,OAAhB,EAAyBC,IAAzB,EAA+BC,MAA/B,QAA4C,SAA5C;AACA,OAAOC,eAAP,MAA4B,6BAA5B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,cAAc,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;AAC5D,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMJ,eAAe,CAACC,cAAhB,CAA+BC,QAA/B,CAAlB;AAEAC,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEP,IADD;AAELQ,MAAAA,OAAO,EAAEJ;AAFJ,KAAD,CAAR;AAIH,GAPD,CAOE,OAAOK,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,CAXM;AAaP,OAAO,MAAMG,UAAU,GAAG,MAAM,MAAOP,QAAP,IAAoB;AAChD,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMJ,eAAe,CAACW,YAAhB,EAAlB;AAEAR,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAER,OADD;AAELS,MAAAA,OAAO,EAAEF,GAAG,CAACQ;AAFR,KAAD,CAAR;AAIH,GAPD,CAOE,OAAOL,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,CAXM;AAcP,OAAO,MAAMM,cAAc,GAAIC,EAAD,IAAQ,MAAOX,QAAP,IAAoB;AAEtD,MAAI;AACA,UAAMH,eAAe,CAACa,cAAhB,CAA+BC,EAA/B,CAAN;AAEAX,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAET,MADD;AAELU,MAAAA,OAAO,EAAEQ;AAFJ,KAAD,CAAR;AAIH,GAPD,CAOE,OAAOP,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AAGJ,CAdM;AAgBP,OAAO,MAAMQ,cAAc,GAAG,CAACD,EAAD,EAAKF,IAAL,KAAc,MAAOT,QAAP,IAAoB;AAC5D,MAAI;AACA;AAEA,UAAMC,GAAG,GAAGJ,eAAe,CAACgB,kBAAhB,CAAmCF,EAAnC,EAAuCF,IAAvC,CAAZ;AAGAT,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEN,MADD;AAELO,MAAAA,OAAO,EAAEQ,EAFJ;AAEQF,MAAAA;AAFR,KAAD,CAAR;AAKA,WAAOK,OAAO,CAACC,OAAR,CAAgBd,GAAG,CAACQ,IAApB,CAAP;AACH,GAZD,CAYE,OAAOL,GAAP,EAAY;AACV,WAAOU,OAAO,CAACE,MAAR,CAAeZ,GAAf,CAAP;AACH;AACJ,CAhBM","sourcesContent":["import {DELETE, GET_ALL, POST, UPDATE} from \"./types\";\r\nimport EmployeeService from \"../services/EmployeeService\";\r\n\r\n// export function fetchPosts() {\r\n//     console.log(\"HELO\")\r\n//\r\n//     async function f(){\r\n//     const response= await fetch('http://localhost:8081/api/v1/employees')\r\n//     const json = await response.json()\r\n//         return json\r\n//     }\r\n//     console.log(f)\r\n//     // return async dispatch=>{\r\n//     //         const response= await fetch('http://localhost:8081/api/v1/employees')\r\n//     //         const json = await response.json()\r\n//     //         dispatch({type:GET_ALL,payload: json})\r\n//     //\r\n//     //\r\n//     // }\r\n// }\r\n\r\nexport const createEmployee = (employee) => async (dispatch) => {\r\n    try {\r\n        const res = await EmployeeService.createEmployee(employee);\r\n\r\n        dispatch({\r\n            type: POST,\r\n            payload: employee,\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\nexport const fetchPosts = () => async (dispatch) => {\r\n    try {\r\n        const res = await EmployeeService.getEmployees();\r\n\r\n        dispatch({\r\n            type: GET_ALL,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n};\r\n\r\n\r\nexport const deleteEmployee = (id) => async (dispatch) => {\r\n\r\n    try {\r\n        await EmployeeService.deleteEmployee(id);\r\n\r\n        dispatch({\r\n            type: DELETE,\r\n            payload: id\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const updateEmployee = (id, data) => async (dispatch) => {\r\n    try {\r\n        // const res = await EmployeeService.updateEmployeeById(id, data);\r\n\r\n        const res = EmployeeService.updateEmployeeById(id, data)\r\n\r\n\r\n        dispatch({\r\n            type: UPDATE,\r\n            payload: id, data\r\n        });\r\n\r\n        return Promise.resolve(res.data);\r\n    } catch (err) {\r\n        return Promise.reject(err);\r\n    }\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}